<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="pageTitle">Assignment Results</title>
    <link rel="stylesheet" href="/css/index.css">
</head>

<body>
    <div class="container">
        <div class="header">
            <div class="header-content">
                <div class="header-text">
                    <h1 class="assignment-title" id="assignmentTitle">Loading Assignment...</h1>
                    <div class="last-updated" id="lastUpdated">Last updated: Loading...</div>
                </div>
                <div class="header-actions">
                    <a href="/" class="back-button" title="Back to all assignments">
                        <svg class="back-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M19 12H5"></path>
                            <polyline points="12,19 5,12 12,5"></polyline>
                        </svg>
                        Back to Assignments
                    </a>
                </div>
            </div>
        </div>

        <div class="stats-grid" id="statsGrid">
            <!-- Stats will be populated dynamically -->
        </div>

        <div class="search-container">
            <input type="text" class="search-input" placeholder="Search interns..." id="searchInput">
        </div>

        <div class="results-container">
            <div class="table-header">
                <span>Intern Results</span>
                <button id="copyMarkdownScores" class="copy-markdown-btn">Copy as Markdown Table</button>
            </div>
            <div class="table-sub-header">
                <div class="intern-column">Name</div>
                <div class="overall-column">Overall</div>
                <div class="problems-column">Individual Problems</div>
            </div>
            <div class="problem-headers" id="problemHeaders" style="display: none;">
                <!-- Problem headers will be populated dynamically -->
            </div>
            <div class="intern-list" id="internList">
                <!-- Intern rows will be populated dynamically -->
            </div>
        </div>
    </div>

    <!-- HTML Template for intern rows -->
    <template id="internRowTemplate">
        <div class="intern-row">
            <div class="intern-name" data-field="name"></div>
            <div class="overall-stats">
                <div class="score-badge" data-field="score"></div>
                <div class="hygiene-issues" data-field="issues"></div>
            </div>
            <div class="problem-stats" data-field="problems">
                <!-- Individual problem stats will be populated here -->
            </div>
        </div>
    </template>

    <!-- HTML Template for individual problem stats -->
    <template id="problemStatsTemplate">
        <div class="problem-stat">
            <div class="problem-score" data-field="percentage"></div>
        </div>
    </template>

    <!-- HTML Template for stat cards -->
    <template id="statCardTemplate">
        <div class="stat-card">
            <div class="stat-number" data-field="value"></div>
            <div class="stat-label" data-field="label"></div>
        </div>
    </template>

    <script src="/js/index.js"></script>
</body>

</html>